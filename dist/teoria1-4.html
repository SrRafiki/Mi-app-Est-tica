<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1.4 Condiciones de equilibrio</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <header>
    <h1>1.4 Condiciones de equilibrio<br><small>1Âª Ley de Newton</small></h1>
  </header>

  <div class="container">
    <a href="index.html" class="btn btn-back">â† Volver al menÃº principal</a>

    <div class="card">
      <h2>ğŸ“Œ TeorÃ­a</h2>
      <p>La <strong>Primera Ley de Newton</strong> (Ley de Inercia) establece que:</p>
      <blockquote>
        â€œUn cuerpo permanece en reposo o en movimiento rectilÃ­neo uniforme si la <strong>fuerza neta</strong> que actÃºa sobre Ã©l es cero.â€
      </blockquote>
      <p>Esto lleva a las <strong>condiciones de equilibrio estÃ¡tico</strong>:</p>
      <ul>
        <li><strong>âˆ‘Fâ‚“ = 0</strong></li>
        <li><strong>âˆ‘Fáµ§ = 0</strong></li>
      </ul>
    </div>

    <!-- âœ… Diagrama SVG dinÃ¡mico -->
    <div class="diagram">
      <h3>ğŸ” Diagrama: Cuerpo colgado por dos cuerdas (Ã¡ngulos desde la vertical)</h3>
      <svg width="350" height="300" viewBox="-50 -50 400 350" id="diagrama-cuerdas">
        <!-- LÃ­nea gris (techo) -->
        <line x1="50" y1="0" x2="300" y2="0" stroke="#7f8c8d" stroke-width="4" />
        
        <!-- Masa (fija en 175, 150) -->
        <circle cx="175" cy="150" r="15" fill="#2c3e50" id="masa" />
        <text x="170" y="155" fill="white" id="texto-masa">m</text>
        
        <!-- Peso W -->
        <line x1="175" y1="150" x2="175" y2="200" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrowhead)" id="peso" />
        <text x="180" y="190" fill="#9b59b6" id="texto-peso">W</text>
        
        <!-- Cuerda 1 (azul) -->
        <line x1="175" y1="150" x2="125" y2="0" stroke="#3498db" stroke-width="2" id="cuerda1" />
        <text x="130" y="40" fill="#3498db" id="angulo1">30Â°</text>
        
        <!-- Cuerda 2 (roja) -->
        <line x1="175" y1="150" x2="225" y2="0" stroke="#e74c3c" stroke-width="2" id="cuerda2" />
        <text x="210" y="40" fill="#e74c3c" id="angulo2">60Â°</text>
        
        <!-- DefiniciÃ³n de flecha -->
        <defs>
          <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
            <polygon points="0 0, 8 3, 0 6" fill="#9b59b6" />
          </marker>
        </defs>
      </svg>
    </div>

    <!-- âœ… BotÃ³n y formulario de texto libre -->
    <button id="btn-custom" class="btn btn-toggle">âœï¸ Resolver TU problema</button>
    <div id="custom-form" style="display:none;" class="custom-problem">
      <h3>Escribe tu enunciado:</h3>
      <textarea id="custom-statement" class="custom-input" placeholder="Ej: Un cuerpo de 5 kg cuelga con Ã¡ngulos de 30Â° y 60Â° desde la vertical." rows="3"></textarea>
      <button id="save-btn" class="btn">ğŸš€ Calcular y aplicar</button>
      <div id="custom-saved" class="custom-saved"></div>
    </div>

    <div class="problem-structured">
      <div class="problem-section enunciado">
        <h3>ğŸ“Œ Enunciado</h3>
        <p id="enunciado-texto">Un cuerpo de 5 kg cuelga en reposo de dos cuerdas con Ã¡ngulos de 30Â° y 60Â° desde la vertical.</p>
      </div>

      <div class="problem-section datos">
        <h3>ğŸ“Š Datos</h3>
        <ul>
          <li><code>m = 5 kg</code></li>
          <li><code>W = 49 N</code></li>
          <li><code>Î¸â‚ = 30Â°, Î¸â‚‚ = 60Â°</code></li>
        </ul>
      </div>

      <div class="problem-section formula">
        <h3>ğŸ§® FÃ³rmulas</h3>
        <ul>
          <li><code>âˆ‘Fâ‚“ = 0 â†’ Tâ‚‚Â·senÎ¸â‚‚ = Tâ‚Â·senÎ¸â‚</code></li>
          <li><code>âˆ‘Fáµ§ = 0 â†’ Tâ‚Â·cosÎ¸â‚ + Tâ‚‚Â·cosÎ¸â‚‚ = W</code></li>
        </ul>
      </div>

      <div class="problem-section sustitucion">
        <h3>âœï¸ SustituciÃ³n</h3>
        <p><code>Tâ‚‚ = Tâ‚Â·sen30Â°/sen60Â° = Tâ‚Â·(0.5)/(âˆš3/2) = Tâ‚Â·(1/âˆš3)</code></p>
        <p><code>Tâ‚Â·cos30Â° + Tâ‚Â·(1/âˆš3)Â·cos60Â° = 49</code></p>
        <p><code>Tâ‚Â·(âˆš3/2) + Tâ‚Â·(1/âˆš3)Â·(0.5) = 49</code></p>
        <p><code>Tâ‚Â·(âˆš3/2 + 1/(2âˆš3)) = 49</code></p>
        <p><code>Tâ‚Â·( (3+1)/(2âˆš3) ) = 49 â†’ Tâ‚ = 49Â·(2âˆš3)/4 = 42.44 N</code></p>
        <p><code>Tâ‚‚ = 42.44 / âˆš3 â‰ˆ 24.5 N</code></p>
      </div>

      <div class="problem-section resultado">
        <h3>âœ… Resultado</h3>
        <p class="resultado-final"><strong>Tâ‚ = 42.4 N</strong>, <strong>Tâ‚‚ = 24.5 N</strong></p>
      </div>
    </div>
  </div>

  <footer>
    <p>ğŸ“ Proyecto acadÃ©mico â€” FÃ­sica General | EstÃ¡tica</p>
  </footer>

  <script src="script.js"></script>
  <script>
  // â–¶ï¸ FunciÃ³n para actualizar el diagrama SVG
  function actualizarDiagrama(Î¸1, Î¸2) {
    const svg = document.getElementById('diagrama-cuerdas');
    const cuerda1 = document.getElementById('cuerda1');
    const cuerda2 = document.getElementById('cuerda2');
    const angulo1 = document.getElementById('angulo1');
    const angulo2 = document.getElementById('angulo2');

    // Coordenadas del punto de anclaje (lÃ­nea gris)
    const x1 = 175 - 60 * Math.sin(Î¸1 * Math.PI / 180);
    const y1 = 0 + 60 * Math.cos(Î¸1 * Math.PI / 180);
    const x2 = 175 + 60 * Math.sin(Î¸2 * Math.PI / 180);
    const y2 = 0 + 60 * Math.cos(Î¸2 * Math.PI / 180);

    // Actualizar lÃ­neas
    cuerda1.setAttribute('x1', x1);
    cuerda1.setAttribute('y1', y1);
    cuerda2.setAttribute('x1', x2);
    cuerda2.setAttribute('y1', y2);

    // Actualizar Ã¡ngulos
    angulo1.textContent = `${Î¸1}Â°`;
    angulo2.textContent = `${Î¸2}Â°`;

    // Ajustar posiciÃ³n de los textos
    angulo1.setAttribute('x', x1 + 5);
    angulo1.setAttribute('y', y1 - 10);
    angulo2.setAttribute('x', x2 - 30);
    angulo2.setAttribute('y', y2 - 10);
  }

  // â–¶ï¸ FunciÃ³n para procesar el enunciado
  document.getElementById('save-btn')?.addEventListener('click', function(e) {
    e.preventDefault();
    const enunciado = document.getElementById('custom-statement')?.value.trim();

    if (!enunciado) {
      alert('âš ï¸ Por favor, escribe un enunciado.');
      return;
    }

    try {
      // â–¶ï¸ Extraer m, Î¸1, Î¸2 con expresiones regulares
      const patterns = [
        /un\s+cuerpo\s+de\s+(\d+\.?\d*)\s+kg\s+cuelga\s+con\s+Ã¡ngulos\s+de\s+(\d+\.?\d*)Â°\s+y\s+(\d+\.?\d*)Â°\s+desde\s+la\s+vertical/i,
        /masa\s*:\s*(\d+\.?\d*)\s*kg\s*,\s*Ã¡ngulos\s*:\s*(\d+\.?\d*)Â°\s*y\s*(\d+\.?\d*)Â°\s+desde\s+la\s+vertical/i,
        /cuerpo\s+de\s+(\d+\.?\d*)\s+kg\s+cuelga\s+con\s+Ã¡ngulos\s+de\s+(\d+\.?\d*)Â°\s+y\s+(\d+\.?\d*)Â°\s+desde\s+la\s+vertical/i,
        /un\s+cuerpo\s+de\s+(\d+\.?\d*)\s+kg\s+cuelga\s+en\s+reposo\s+de\s+dos\s+cuerdas\s+con\s+Ã¡ngulos\s+de\s+(\d+\.?\d*)Â°\s+y\s+(\d+\.?\d*)Â°\s+desde\s+la\s+vertical/i
      ];

      let m = null, Î¸1 = null, Î¸2 = null;
      for (const p of patterns) {
        const match = enunciado.match(p);
        if (match) { m = parseFloat(match[1]); Î¸1 = parseFloat(match[2]); Î¸2 = parseFloat(match[3]); break; }
      }

      if (m === null || Î¸1 === null || Î¸2 === null) {
        throw new Error('No se encontraron los valores. Usa: "Un cuerpo de 5 kg cuelga con Ã¡ngulos de 30Â° y 60Â° desde la vertical."');
      }

      const g = 9.8;
      const W = m * g;
      const r1 = Î¸1 * Math.PI / 180;
      const r2 = Î¸2 * Math.PI / 180;
      const T1 = W / (Math.cos(r1) + Math.sin(r1) * Math.tan(r2));
      const T2 = T1 * Math.sin(r1) / Math.sin(r2);

      // â–¶ï¸ Actualizar enunciado
      document.getElementById('enunciado-texto').innerHTML = 
        `Un cuerpo de <strong>${m} kg</strong> cuelga con Ã¡ngulos de <strong>${Î¸1}Â°</strong> y <strong>${Î¸2}Â°</strong> desde la vertical.`;

      // â–¶ï¸ Actualizar datos
      document.querySelector('.problem-section.datos ul').innerHTML = `
        <li><code>m = ${m} kg</code></li>
        <li><code>W = ${W.toFixed(1)} N</code></li>
        <li><code>Î¸â‚ = ${Î¸1}Â°, Î¸â‚‚ = ${Î¸2}Â°</code></li>
      `;

      // â–¶ï¸ Actualizar fÃ³rmulas
      document.querySelector('.problem-section.formula').innerHTML = `
        <h3>ğŸ§® FÃ³rmulas</h3>
        <ul>
          <li><code>âˆ‘Fâ‚“ = 0 â†’ Tâ‚‚Â·senÎ¸â‚‚ = Tâ‚Â·senÎ¸â‚</code></li>
          <li><code>âˆ‘Fáµ§ = 0 â†’ Tâ‚Â·cosÎ¸â‚ + Tâ‚‚Â·cosÎ¸â‚‚ = W</code></li>
        </ul>
      `;

      // â–¶ï¸ Actualizar sustituciÃ³n
      document.querySelector('.problem-section.sustitucion').innerHTML = `
        <h3>âœï¸ SustituciÃ³n</h3>
        <p><code>Tâ‚‚ = Tâ‚Â·sen${Î¸1}Â°/sen${Î¸2}Â° = Tâ‚Â·${(Math.sin(r1)/Math.sin(r2)).toFixed(2)}</code></p>
        <p><code>Tâ‚Â·cos${Î¸1}Â° + Tâ‚Â·${(Math.sin(r1)/Math.sin(r2)).toFixed(2)}Â·cos${Î¸2}Â° = ${W}</code></p>
        <p><code>Tâ‚ = ${T1.toFixed(1)} N</code></p>
        <p><code>Tâ‚‚ = ${T2.toFixed(1)} N</code></p>
      `;

      // â–¶ï¸ Actualizar resultado final
      document.querySelector('.resultado-final').innerHTML = 
        `<strong>Tâ‚ = ${T1.toFixed(1)} N</strong>, <strong>Tâ‚‚ = ${T2.toFixed(1)} N</strong>`;

      // â–¶ï¸ Actualizar diagrama
      actualizarDiagrama(Î¸1, Î¸2);

      // â–¶ï¸ Ocultar formulario
      document.getElementById('custom-form').style.display = 'none';
      alert('âœ… Â¡Problema actualizado con tus valores!');
    } catch (error) {
      console.error('âŒ Error:', error);
      alert(`âš ï¸ Error al procesar tu enunciado.\nEjemplo vÃ¡lido:\n"Un cuerpo de 5 kg cuelga con Ã¡ngulos de 30Â° y 60Â° desde la vertical."`);
    }
  });
  </script>
</body>
</html>