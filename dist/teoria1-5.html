<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1.5 Cuerpos r√≠gidos</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <header>
    <h1>1.5 Cuerpos r√≠gidos y principio<br>de transmisibilidad</h1>
  </header>

  <div class="container">
    <a href="index.html" class="btn btn-back">‚Üê Volver al men√∫ principal</a>

    <div class="card">
      <h2>üìå Teor√≠a</h2>
      <p><strong>Cuerpo r√≠gido:</strong> Sistema de part√≠culas donde la distancia entre cualesquiera dos part√≠culas permanece constante.</p>
      <p><strong>Principio de transmisibilidad:</strong></p>
      <blockquote>
        ‚ÄúEl efecto externo de una fuerza sobre un cuerpo r√≠gido es el mismo para todos los puntos de aplicaci√≥n a lo largo de su l√≠nea de acci√≥n.‚Äù
      </blockquote>
    </div>

    <!-- ‚úÖ Diagrama SVG din√°mico -->
    <div class="diagram">
      <h3>üîç Diagrama: Fuerzas equivalentes (transmisibilidad)</h3>
      <svg width="350" height="200" viewBox="-50 -50 400 250" id="diagrama-transmisibilidad">
        <!-- Bloque (cuerpo r√≠gido) -->
        <rect x="100" y="50" width="150" height="30" fill="#3498db" rx="4" />
        
        <!-- L√≠nea de acci√≥n (punteada) -->
        <line x1="50" y1="65" x2="300" y2="65" stroke="#9b59b6" stroke-dasharray="4,4" id="linea-accion" />
        <text x="280" y="60" fill="#9b59b6" font-size="12">L√≠nea de acci√≥n</text>
        
        <!-- Fuerza 1 (izquierda) -->
        <line x1="100" y1="65" x2="70" y2="65" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead-blue)" id="fuerza1" />
        <text x="80" y="55" fill="#3498db" id="texto-f1">F = 100 N</text>
        
        <!-- Fuerza 2 (centro) -->
        <line x1="175" y1="65" x2="145" y2="65" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-red)" id="fuerza2" />
        <text x="155" y="55" fill="#e74c3c" id="texto-f2">F = 100 N</text>
        
        <!-- Fuerza 3 (derecha) -->
        <line x1="250" y1="65" x2="220" y2="65" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead-green)" id="fuerza3" />
        <text x="230" y="55" fill="#27ae60" id="texto-f3">F = 100 N</text>
        
        <!-- Definici√≥n de flechas -->
        <defs>
          <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#3498db" />
          </marker>
          <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
          </marker>
          <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60" />
          </marker>
        </defs>
      </svg>
    </div>

    <!-- ‚úÖ Bot√≥n y formulario de texto libre -->
    <button id="btn-custom" class="btn btn-toggle">‚úèÔ∏è Resolver TU problema</button>
    <div id="custom-form" style="display:none;" class="custom-problem">
      <h3>Escribe tu enunciado:</h3>
      <textarea id="custom-statement" class="custom-input" placeholder="Ej: Una fuerza horizontal de 120 N se aplica en tres puntos colineales." rows="3"></textarea>
      <button id="save-btn" class="btn">üöÄ Calcular y aplicar</button>
      <div id="custom-saved" class="custom-saved"></div>
    </div>

    <div class="problem-structured">
      <div class="problem-section enunciado">
        <h3>üìå Enunciado</h3>
        <p id="enunciado-texto">Una fuerza horizontal de 100 N se aplica en tres puntos colineales.</p>
      </div>

      <div class="problem-section datos">
        <h3>üìä Datos</h3>
        <ul>
          <li><code>F = 100 N</code></li>
          <li>L√≠nea de acci√≥n: misma</li>
        </ul>
      </div>

      <div class="problem-section formula">
        <h3>üßÆ Principio clave</h3>
        <p><strong>Principio de transmisibilidad:</strong>  
        Si dos fuerzas tienen igual magnitud, direcci√≥n y l√≠nea de acci√≥n, producen el mismo efecto externo.</p>
      </div>

      <div class="problem-section sustitucion">
        <h3>‚úèÔ∏è An√°lisis</h3>
        <p>En los tres casos: magnitud = 100 N, direcci√≥n = horizontal, l√≠nea de acci√≥n = misma recta ‚Üí equivalente externamente.</p>
      </div>

      <div class="problem-section resultado">
        <h3>‚úÖ Resultado</h3>
        <p class="resultado-final">‚Üí El movimiento NO cambia (principio de transmisibilidad)</p>
      </div>
    </div>
  </div>

  <footer>
    <p>üéì Proyecto acad√©mico ‚Äî F√≠sica General | Est√°tica</p>
  </footer>

  <script src="script.js"></script>
  <script>
  // ‚ñ∂Ô∏è Funci√≥n para actualizar el diagrama SVG
  function actualizarDiagrama(F) {
    const svg = document.getElementById('diagrama-transmisibilidad');
    const textoF1 = document.getElementById('texto-f1');
    const textoF2 = document.getElementById('texto-f2');
    const textoF3 = document.getElementById('texto-f3');

    // Actualizar texto de las fuerzas
    textoF1.textContent = `F = ${F} N`;
    textoF2.textContent = `F = ${F} N`;
    textoF3.textContent = `F = ${F} N`;
  }

  // ‚ñ∂Ô∏è Funci√≥n para procesar el enunciado
  document.getElementById('save-btn')?.addEventListener('click', function(e) {
    e.preventDefault();
    const enunciado = document.getElementById('custom-statement')?.value.trim();

    if (!enunciado) {
      alert('‚ö†Ô∏è Por favor, escribe un enunciado.');
      return;
    }

    try {
      // ‚ñ∂Ô∏è Extraer F con expresiones regulares
      const patterns = [
        /una\s+fuerza\s+horizontal\s+de\s+(\d+\.?\d*)\s+N\s+se\s+aplica\s+en\s+tres\s+puntos\s+colineales/i,
        /fuerza\s*:\s*(\d+\.?\d*)\s*N\s*,\s*horizontal,\s*puntos\s+colineales/i,
        /un\s+fuerza\s+de\s+(\d+\.?\d*)\s+N\s+horizontal\s+en\s+tres\s+puntos\s+colineales/i
      ];

      let F = null;
      for (const p of patterns) {
        const match = enunciado.match(p);
        if (match) { F = parseFloat(match[1]); break; }
      }

      if (F === null) {
        throw new Error('No se encontr√≥ la fuerza. Usa: "Una fuerza horizontal de 100 N se aplica en tres puntos colineales."');
      }

      // ‚ñ∂Ô∏è Actualizar enunciado
      document.getElementById('enunciado-texto').innerHTML = 
        `Una fuerza horizontal de <strong>${F} N</strong> se aplica en tres puntos colineales.`;

      // ‚ñ∂Ô∏è Actualizar datos
      document.querySelector('.problem-section.datos ul').innerHTML = `
        <li><code>F = ${F} N</code></li>
        <li>L√≠nea de acci√≥n: misma</li>
      `;

      // ‚ñ∂Ô∏è Actualizar an√°lisis
      document.querySelector('.problem-section.sustitucion').innerHTML = `
        <h3>‚úèÔ∏è An√°lisis</h3>
        <p>En los tres casos: magnitud = ${F} N, direcci√≥n = horizontal, l√≠nea de acci√≥n = misma recta ‚Üí equivalente externamente.</p>
      `;

      // ‚ñ∂Ô∏è Actualizar resultado final
      document.querySelector('.resultado-final').innerHTML = 
        `‚Üí El movimiento NO cambia (principio de transmisibilidad)`;

      // ‚ñ∂Ô∏è Actualizar diagrama
      actualizarDiagrama(F);

      // ‚ñ∂Ô∏è Ocultar formulario
      document.getElementById('custom-form').style.display = 'none';
      alert('‚úÖ ¬°Problema actualizado con tus valores!');
    } catch (error) {
      console.error('‚ùå Error:', error);
      alert(`‚ö†Ô∏è Error al procesar tu enunciado.\nEjemplo v√°lido:\n"Una fuerza horizontal de 100 N se aplica en tres puntos colineales."`);
    }
  });
  </script>
</body>
</html>